<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <!-- fixed navbar -->
    <div class="container-fluid nav justify-content-center myColor">
        <div class="d-flex p-2">
            <h5 class="p-1">FREE SHIPPING on all orders of </h5>
            <h4><strong class="d-flex text-warning"> PKR 5000 and above</strong></h4>
            <a class="nav-link active p-2" href="#">
                <strong class="bg-warning text-success p-2 rounded-3 ">Use Promo Code:SMIT</strong>
            </a>
        </div>
    </div>
    <!-- Link navigation -->
    <nav class="navbar bg-body-light">
        <div class="container-fluid">
            <div class="d-flex">
                <i class="fa fa-phone fa-lg mx-4 hover d-flex">
                    <p class="mx-2"><small><em class="hover">123456789</em></small></p>
                </i>
                <i class="fa fa-envelope fa-lg mx-2 hover d-flex">
                    <p class="mx-2"><small><em class="hover">query@bookslibrary.com</em></small></p>
                </i>
            </div>

            <div class="d-flex nav-item dropdown">
                <a class="navbar-brand mx-0 mt-1" href="#">
                    <img src="images/flag(1).jpeg" alt="flag" width="40">
                </a>
                <a class="nav-link dropdown-toggle bg-body-tertiary rounded-5 p-2 m-2" href="#" role="button"
                    data-bs-toggle="dropdown" aria-expanded="false">
                    Select Language
                </a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item hover" href="#">Arabic</a></li>
                    <li><a class="dropdown-item hover" href="#">English</a></li>
                    <li><a class="dropdown-item hover" href="#">Urdu</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Main Navbar -->
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid myColor">
            <div class="d-flex mx-0">
                <img class="" src="images/books.png" alt="bookslibrary" width="120px" height="85px">
                <h3 class="m-3 mx-2"><strong class="fs-1 hover">Library Books</strong></h3>
            </div>

            <button class="navbar-toggler border-white" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation text-white border-white">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse p-4" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active text-white fw-bold hover mx-5 fs-4" aria-current="page" href="./index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white fw-bold mx-5 hover fs-4" href="./signUp.html">Register</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white fw-bold mx-5 hover fs-4" href="./login.html">Login</a>
                    </li>
                </ul>
                <button class="myColor p-2 fw-bold border-warning rounded-3" type="submit"
                    onclick="alert('First register to your self')">LOG
                    IN</button>
            </div>
        </div>
    </nav>
    <!-- registration form -->
    <div>
        <div class="row">
            <div class="col-sm-6 mb-3 mb-sm-0">
                <div class="card m-5 border-5 border-info">
                    <div class="card-body bg-info-subtle">
                        <h2 class="m-5 myColor p-3 rounded-3">REGISTER FIRST</h2>
                        <br />
                        <form>
                            <div class="container">
                                <div class="mb-3">
                                    <label for="exampleFormControlInput1" class="form-label fw-bold">User name</label>
                                    <input type="name" class="form-control" required id="username"
                                        placeholder="your sweet name">
                                </div>
                                <div class="mb-3">
                                    <label for="exampleFormControlInput1" class="form-label fw-bold ">Email
                                        address</label>
                                    <input type="email" class="form-control" id="email" required
                                        placeholder="name@example.com">
                                </div>
                                <div class="mb-3">
                                    <label for="exampleFormControlInput1" class="form-label fw-bold">Password</label>
                                    <input type="password" class="form-control" id="password" required
                                        placeholder="use strong password">
                                </div>
                                <button class="myColor border-warning rounded-3 fw-bold p-2 mx-4" type="submit"
                                    id="regbtn">REGISTER</button>
                                <a class="navbar-brand" href="./login.html">
                                    <button class="myColor border-warning rounded-3 fw-bold p-2" type="submit">LOG
                                        IN</button>
                                </a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="card-body mt-5 border-info m-5 rounded-2">
                    <img src="images/book1.webp" alt="" class="mx-3 mb-5" width="150px" height="220px">
                    <img src="images/book2.jpeg" alt="" class="mx-3 mb-5" width="150px" height="220px">
                    <img src="images/book3.jpeg" alt="" class="mx-3 mb-5" width="150px" height="220px">
                    <img src="images/book4.jpeg" alt="" class="mx-3 mb-5" width="150px" height="220px">
                    <img src="images/book5.jpeg" alt="" class="mx-3 mb-5" width="150px" height="220px">
                    <img src="images/book6.jpg" alt="" class="mx-3 mb-5" width="150px" height="220px">
                </div>
            </div>
        </div>
    </div>
    <!-- function -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, get, ref } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
        import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"
        const firebaseConfig = {
            apiKey: "AIzaSyBAywNTxWtbEwE0xo7-V8QFPl7W8z3_G9A",
            authDomain: "smit-71af3.firebaseapp.com",
            projectId: "smit-71af3",
            storageBucket: "smit-71af3.appspot.com",
            messagingSenderId: "114658621421",
            appId: "1:114658621421:web:b51f2cc815b78a28d359e4",
            measurementId: "G-9G2GWXWYVY"
        };
        const app = initializeApp(firebaseConfig);
        const db = getDatabase();
        const auth = getAuth(app);

        let register = (evt) => {
            evt.preventDefault();
            let username = document.getElementById("username");
            let email = document.getElementById("email");
            let password = document.getElementById("password");
            let mainform = document.getElementById("mainform");
            let regbtn = document.getElementById("regbtn");
        
            createUserWithEmailAndPassword(auth, email.value, password.value)
    .then((credentials) => {
        // Success message using SweetAlert
        Swal.fire({
            title: 'Great!',
            text: `${username.value}, You are successfully registered.`,
            icon: 'success',
            confirmButtonText: 'Go to Login',
            allowOutsideClick: false
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = 'login.html';
            }
        });

        // Additional code you want to execute after successful registration
        console.log(credentials);

        // Redirect to login page
        // window.location.href = 'login.html';  // No need to redirect twice
    })
    .catch((err) => {
        // Error message using SweetAlert
        Swal.fire({
            title: 'Oops!',
            text: 'Already Registered, please try again with new Keywords',
            icon: 'error',
            confirmButtonText: 'OK'
        });

        console.error("err=", err);
    });
        };
        addEventListener('submit', register);
    </script>;
    <script src="newfile.js"></script>;
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>;
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>;

</body>
</html>